<!DOCTYPE html>
<html>
<head>
<title>Civilization Simulator</title>
<meta charset="UTF-8">
<link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- Language Switch Button -->
  <div id="language-switcher">
      <button id="language-switch-button" title="Switch Language / Changer de langue"></button>
  </div>

  <h1>Civilization Simulator</h1>
  <div id="unit-display-bar"></div>

  <div id="game-container">
    <!-- === LEFT CONTAINER === -->
    <div id="left-container">
       <div id="colony-name-container">
           <button id="rename-colony-button" title="Rename Colony">✏️</button>
           <div id="colony-name-display">Colony Name</div>
       </div>
      <div id="inventory">
        <h2>Inventory</h2>
         <p class="empty-inventory">Empty</p>
      </div>
      <button id="action-button" style="display: none;"></button> <!-- Text set by JS -->
      <button id="tame-button" style="display: none;"></button> <!-- Text set by JS -->
      <div id="resource-name"></div>
    </div>

    <!-- === MIDDLE CONTROLS === -->
    <div id="middle-controls">
         <button id="tutorial-button" data-panel-target="tutorial-modal"></button> <!-- Text set by JS -->
         <button id="research-button" data-panel-target="tech-tree-modal"></button> <!-- Text set by JS -->
         <button id="buildings-button" data-panel-target="buildings-list"></button> <!-- Text set by JS -->
         <button id="units-button" data-panel-target="units-panel"></button> <!-- Text set by JS -->
         <button id="animals-button" data-panel-target="tamed-animals-panel"></button> <!-- Text set by JS -->
         <button id="upgrade-button" data-panel-target="upgrade-info"></button> <!-- Text set by JS -->
         <button id="logs-button" data-panel-target="logs-panel"></button> <!-- Text set by JS -->
         <button id="save-button"></button> <!-- Text set by JS -->
         <button id="load-button"></button> <!-- Text set by JS -->
         <input type="file" id="load-file-input" accept=".json" style="display: none;">
         <button id="cheat-reveal-button"></button> <!-- Text set by JS -->
    </div>

    <!-- === GRID AREA === -->
    <div id="grid-area">
        <div id="grid" class="grid"></div>
        <div id="alert-message"></div>
    </div>

    <!-- === RIGHT CONTAINER === -->
    <div id="right-panel">
       <div id="unit-biome-display-container">Biome: <span id="unit-biome">Unknown</span></div>
       <div id="unit-coords-display-container">Coords: <span id="unit-coords">(-, -)</span></div>
       <div id="unit-exp-display-container">Exp: <span id="unit-exp">0</span></div>
       <div id="research-points-display-container">Research Points: <span id="research-points">0</span></div>

       <div id="logs-panel" class="panel">
           <h2></h2> <!-- Text set by JS -->
           <input type="text" id="log-search-input"> <!-- Placeholder set by JS -->
           <div id="log-filter-container">
               <label><input type="checkbox" id="log-filter-checkbox"> </label> <!-- Label text set by JS -->
           </div>
           <ul id="logs-list"></ul>
       </div>

       <div id="upgrade-info" class="panel">
            <h4></h4> <!-- Text set by JS -->
            <div class="panel-content">
               <p></p> <!-- Text set by JS -->
           </div>
       </div>
       <div id="buildings-list" class="panel">
           <h2></h2> <!-- Text set by JS -->
           <div class="panel-content">
               <ul></ul> <!-- Content set by JS -->
           </div>
       </div>
       <div id="units-panel" class="panel">
           <h2></h2> <!-- Text set by JS -->
           <div class="panel-content">
               <ul id="units-list">
                   <li></li> <!-- Text set by JS -->
               </ul>
           </div>
       </div>
       <!-- Tamed Animals Panel -->
       <div id="tamed-animals-panel" class="panel">
           <h2></h2> <!-- Text set by JS -->
           <div class="panel-content">
               <ul id="tamed-animals-list">
                   <!-- List populated by JS -->
                   <li></li> <!-- Text set by JS -->
               </ul>
           </div>
       </div>
       <div id="research-status-display"></div>
    </div>
  </div> <!-- End of game-container -->

  <!-- === TUTORIAL MODAL === -->
  <div id="tutorial-modal" style="display: none;">
      <div id="tutorial-content">
          <h2 id="tutorial-title"></h2> <!-- Text set by JS -->
          <ol id="tutorial-steps"> </ol> <!-- Content set by JS -->
          <button id="close-tutorial-button"></button> <!-- Text set by JS -->
      </div>
  </div>

   <!-- === TECH TREE MODAL === -->
   <div id="tech-tree-modal" style="display: none;">
       <div id="tech-tree-modal-content">
           <h2 id="tech-tree-title"></h2> <!-- Text set by JS -->
           <div id="tech-tree-display-area">
                <svg id="tech-lines-svg" width="100%" height="100%"></svg>
               <!-- Nodes added here by JS -->
           </div>
           <button id="close-tech-tree-button"></button> <!-- Text set by JS -->
           <div id="tech-tree-legend">
              <span class="legend-item researched"></span> <span data-lang-key="legendResearched"></span> <!-- Text set by JS -->
              <span class="legend-item available"></span> <span data-lang-key="legendAvailable"></span> <!-- Text set by JS -->
              <span class="legend-item researching"></span> <span data-lang-key="legendResearching"></span> <!-- Text set by JS -->
              <span class="legend-item unavailable"></span> <span data-lang-key="legendUnavailable"></span> <!-- Text set by JS -->
           </div>
       </div>
   </div>

  <script src="data.js"></script> <!-- Defines window.gameConfig, window.translations, and window.loadResourcesFromXML -->
  <script src="script.js"></script> <!-- Contains the DOMContentLoaded listener which now awaits loadResourcesFromXML -->

</body>
</html>